import{j as e,r as u,u as g,a as m}from"./index-CpFTmIrb.js";import{h as x,i as f,j as h,k as p,g as j,u as I,P as N,T as O,a as E}from"./use-localization-BvBa7AUO.js";import{B as C}from"./button-nAd7lswB.js";import{S as b}from"./sub-title-JPg9hapS.js";const P=3,_=({topic:i,onClick:n,icon:t,isSelected:s})=>e.jsxs(x,{onClick:n,$isChecked:s,children:[e.jsx(f,{src:t,alt:i}),e.jsx(h,{children:i})]}),k=(i,n)=>{const[t,s]=u.useState([]);return u.useEffect(()=>{const c=localStorage.getItem(i),l=(c?JSON.parse(c):[]).slice(0,n);s(l)},[i,n]),{selectedTopics:t,updateSelectedTopics:c=>{if(t.includes(c)){const o=t.filter(l=>l!==c);s(o),localStorage.setItem(p,JSON.stringify(o))}else{const o=[...t,c].slice(0,n);s(o),localStorage.setItem(p,JSON.stringify(o))}},setSelectedTopics:s}},F=()=>{const{pathname:i}=g(),n=m(),t=j(i),{genericTranslation:s,selectedTranslation:d}=I(),{selectedTopics:c,updateSelectedTopics:o,setSelectedTopics:l}=k(p,P);u.useEffect(()=>{const a=localStorage.getItem(p),r=a?JSON.parse(a):[];l(r)},[l]);const S=a=>{o(a)},T=()=>{n(`/quiz/${Number(t)+1}`)};return d===null||s===null?e.jsx("h1",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(N,{question:Number(t),totalQuestions:O}),e.jsxs("section",{children:[e.jsx(E,{children:d[4].title}),e.jsx(b,{children:d[4]["sub-title"]}),e.jsx("ul",{style:{marginBottom:"36px",display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(auto-fill,100px)",gap:"8px"},children:d[4].options.map(({icon:a,value:r})=>e.jsx(_,{onClick:()=>S(r),topic:r,icon:a,isSelected:c.includes(r)},r))}),e.jsx(C,{selectedItems:c,onClick:T,children:s.button.next})]})]})};export{F as default};
