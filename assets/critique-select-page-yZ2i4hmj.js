import{r as l,j as t,u as j,a as T}from"./index-ED9gzTx7.js";import{e as I,f as z,L as N,g as k,P as E,T as O,a as L}from"./topic-option.styled-DCRHv7PQ.js";import{C as u,u as b}from"./use-localization-C7JFPGCL.js";import{B as q}from"./button-DvPpC1Ki.js";const B={en:["hate"],de:["wenigsten"],es:["odias"],fr:["détestez"],ua:["не"]},y=(s,r)=>s.split(" ").map((n,c)=>{var i;return((i=B[r])==null?void 0:i.includes(n.toLowerCase()))?`<span key=${c} style="color: #E4229B;">${n}</span>`:`${n}`}).join(" "),P=({critique:s,onClick:r,isSelected:d})=>{const[n,c]=l.useState(d);l.useEffect(()=>{const i=localStorage.getItem(u),g=i?JSON.parse(i):[];c(g.includes(s))},[s]);const o=()=>{c(!n),r()};return t.jsxs(I,{onClick:r,$isChecked:n,children:[t.jsx(z,{type:"checkbox",value:"true",name:s,id:s,onChange:o,checked:n}),t.jsx(N,{htmlFor:s,children:t.jsx("span",{children:s})})]})},A=()=>{const{pathname:s}=j(),r=T(),d=k(s),{genericTranslation:n,selectedLanguage:c,selectedTranslation:o}=b(),[i,g]=l.useState("");l.useEffect(()=>{if(o){const e=o[3].title,a=y(e,c);g(a)}},[o]);const[h,C]=l.useState([]);l.useEffect(()=>{const e=localStorage.getItem(u),a=e?JSON.parse(e):[];C(a)},[]);const x=e=>{const a=localStorage.getItem(u),m=a?JSON.parse(a):[],p=m.includes(e)?m.filter(f=>f!==e):[...m,e];C(p),localStorage.setItem(u,JSON.stringify(p))},S=()=>{r(`/quiz/${Number(d)+1}`)};return o===null||n===null?t.jsx("h1",{children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsx(E,{question:Number(d),totalQuestions:O}),t.jsxs("section",{children:[t.jsx(L,{htmlContent:i,children:o[3].title}),t.jsx("ul",{style:{marginBottom:"26px"},children:o[3].options.map(({value:e})=>t.jsx(P,{onClick:()=>x(e),critique:e,isSelected:h.includes(e)},e))}),t.jsx(q,{selectedItems:h,onClick:S,children:n.button.next})]})]})};export{A as default};
